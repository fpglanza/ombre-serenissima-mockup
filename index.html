<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Le Ombre della Serenissima — Mockup Interattivo</title>
  <meta name="description" content="Mockup interattivo a scelte multiple — Le Ombre della Serenissima." />
  <style>
    :root{
      --bg:#0b0d12;
      --panel:#111526;
      --ink:#e9ecf1;
      --muted:#b6bed0;
      --line:rgba(255,255,255,.10);
      --accent:#c6a15b;
      --accent2:#7aa2ff;
      --shadow: 0 18px 55px rgba(0,0,0,.55);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background: radial-gradient(1200px 800px at 20% 10%, rgba(122,162,255,.10), transparent 55%),
                  radial-gradient(900px 600px at 80% 30%, rgba(198,161,91,.12), transparent 60%),
                  var(--bg);
      color:var(--ink);
      line-height:1.55;
    }
    .wrap{
      max-width: 920px;
      margin: 0 auto;
      padding: 42px 18px 60px;
    }
    header{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-bottom: 18px;
    }
    .kicker{
      color: var(--muted);
      letter-spacing:.12em;
      text-transform:uppercase;
      font-size:12px;
    }
    h1{
      margin:0;
      font-size: clamp(28px, 4.2vw, 44px);
      letter-spacing: -0.02em;
    }
    .sub{
      margin:0;
      color: var(--muted);
      max-width: 70ch;
    }
    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:16px;
      margin-top: 18px;
    }
    @media (max-width: 880px){
      .grid{grid-template-columns: 1fr;}
    }
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card .pad{ padding: 18px 18px 16px; }
    .meta{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .pill{
      font-size:12px;
      color: var(--muted);
      border: 1px solid var(--line);
      padding: 7px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.02);
    }
    .sceneTitle{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:12px;
      border-bottom: 1px solid var(--line);
      padding-bottom: 12px;
      margin-bottom: 12px;
    }
    .sceneTitle h2{
      margin:0;
      font-size:18px;
      letter-spacing:-.01em;
    }
    .progress{
      font-size:12px;
      color: var(--muted);
      white-space:nowrap;
    }
    .text{
      margin: 0;
      color: var(--ink);
      font-size: 16px;
    }
    .choices{
      display:grid;
      gap:10px;
      margin-top: 14px;
    }
    button.choice{
      width:100%;
      text-align:left;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.02);
      color: var(--ink);
      padding: 12px 12px;
      border-radius: 14px;
      cursor:pointer;
      transition: transform .08s ease, border-color .15s ease, background .15s ease;
    }
    button.choice:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.22);
      background: rgba(255,255,255,.04);
    }
    .choice small{
      display:block;
      color: var(--muted);
      margin-top:4px;
      font-size: 12px;
    }
    .aside h3{
      margin:0 0 10px 0;
      font-size:14px;
      color: var(--muted);
      letter-spacing:.08em;
      text-transform:uppercase;
    }
    .aside p{
      margin:0 0 12px 0;
      color: var(--muted);
      font-size: 14px;
    }
    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .btn{
      border: 1px solid var(--line);
      background: rgba(255,255,255,.02);
      color: var(--ink);
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
    }
    .btn.primary{
      border-color: rgba(198,161,91,.55);
      background: linear-gradient(180deg, rgba(198,161,91,.18), rgba(198,161,91,.08));
    }
    .log{
      margin-top: 10px;
      border-top: 1px solid var(--line);
      padding-top: 12px;
      color: var(--muted);
      font-size: 13px;
    }
    .log ol{
      margin: 8px 0 0 18px;
      padding:0;
    }
    footer{
      margin-top: 18px;
      color: var(--muted);
      font-size: 12px;
      opacity:.9;
    }
    a{ color: var(--accent2); }
    .ending{
      border: 1px solid rgba(198,161,91,.35);
      background: linear-gradient(180deg, rgba(198,161,91,.12), rgba(255,255,255,.02));
      padding: 12px 12px;
      border-radius: 14px;
      margin-top: 14px;
    }
    .ending strong{ color: #f2e6cf; }

    .optGroup{
      margin-top: 14px;
      padding: 12px 12px;
      border: 1px solid var(--line);
      border-radius: 14px;
      background: rgba(255,255,255,.02);
    }
    .optGroup h4{
      margin:0 0 8px 0;
      font-size:13px;
      color: var(--muted);
      letter-spacing:.08em;
      text-transform:uppercase;
    }
    .optGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 520px){
      .optGrid{ grid-template-columns: 1fr; }
    }
    .optBtn{
      width:100%;
      text-align:left;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.02);
      color: var(--ink);
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
      transition: transform .08s ease, border-color .15s ease, background .15s ease;
    }
    .optBtn:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.22);
      background: rgba(255,255,255,.04);
    }
    .optBtn.selected{
      border-color: rgba(198,161,91,.60);
      background: linear-gradient(180deg, rgba(198,161,91,.16), rgba(255,255,255,.02));
    }
    button.choice:disabled{
      opacity:.55;
      cursor:not-allowed;
      transform:none;
    }

    /* HUD */
    #hud{
      border: 1px solid var(--line);
      background: rgba(255,255,255,.02);
      border-radius: 14px;
      padding: 10px 12px;
      color: var(--muted);
      font-size: 13px;
    }
    #hud strong{ color: var(--ink); font-weight: 600; }
    #hud .hudRow{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    #hud .hudItem{
      padding: 6px 10px;
      border: 1px solid var(--line);
      border-radius: 999px;
      background: rgba(0,0,0,.10);
      color: var(--muted);
      font-size: 12px;
    }

  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="kicker">Mockup interattivo • Scelte multiple • 3 finali</div>
      <h1>Le Ombre della Serenissima</h1>
      <p class="sub">
        Un prototipo narrativo a bivi ambientato nella Venezia della Serenissima:
        potere, simboli e zone d’ombra tra storia e interpretazione.
      </p>
    </header>

    <section class="grid">
      <main class="card">
        <div class="pad">
          <div class="sceneTitle">
            <h2 id="scene-name">Introduzione</h2>
            <div class="progress" id="progress">0 / 4</div>
          </div>

          <div id="hud" style="margin-top:10px;display:none"></div>

          <p class="text" id="scene-text"></p>

          <div id="custom"></div>

          <div id="ending-box" class="ending" style="display:none"></div>

          <div class="choices" id="choices"></div>

          <div class="row" style="margin-top:14px">
            <button class="btn primary" id="startBtn">Inizia</button>
            <button class="btn" id="restartBtn" style="display:none">Ricomincia</button>
          </div>

          <div class="log" id="log" style="display:none">
            <div><strong>Percorso:</strong></div>
            <ol id="logList"></ol>
          </div>
        </div>
      </main>

      <aside class="card aside" id="aside">
        <div class="pad">
          <h3>Nota progettuale</h3>
          <p>
            Questo è un <em>mockup</em>: serve a mostrare struttura, tono e dinamica di scelta.
            L’idea può evolvere in ambiente real-time / VP, mantenendo al centro la regia dell’esperienza.
          </p>

          <h3>Come usarlo</h3>
          <p>
            Fai qualche run veloce e guarda come cambia la percezione degli eventi.
            Alla fine puoi ricominciare e provare un percorso diverso.
          </p>

          <h3>Credits</h3>
          <p>
            Concept & design: <strong>Filippo Lanza</strong><br/>
            Ruolo: creative technologist (story + interazione)
          </p>

        </div>
      </aside>
    </section>
  </div>

  <script src="story.js"></script>
  <script src="engine.js"></script>

</body>
</html>